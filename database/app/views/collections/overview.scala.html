@(collections: Seq[models.collections.JumboCollection])

@title = {
    Collections
}

@main(title, nav = "collections") {
<div id="accordion2" class="accordion">
    @collections.map {
        case (collection) => {
            <div class="accordion-group">
                <div class="accordion-heading">
                    <div class="accordion-toggle">
                        <a href="#@collection.collapseId" data-parent="#accordion2" data-toggle="collapse">
                            <strong>@collection.name</strong>
                        </a>
                        <div style="font-size: smaller;">@collection.formatedCompressedSize compressed data - @collection.formatedUncompressedSize uncompressed data - @collection.formatedIndexSize Index</div>
                    </div>
                </div>
                <div class="accordion-body collapse" id="@collection.collapseId" style="height: 0px;">
                    <div class="accordion-inner">
                       @collection.chunks.map {
                        case (chunk) => {
                        <div>
                            <h4>Delivery Chunk @chunk.key</h4>
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Version / Info</th>
                                        <th>Date</th>
                                        <th>Compressed</th>
                                        <th>Uncompressed</th>
                                        <th>Index</th>
                                        <th>&nbsp;</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @chunk.versions.map {
                                    case (version) => {
                                    <tr>
                                        <td>
                                            <strong><small>@version.version</small></strong>
                                            <p>@version.info</p>
                                        </td>
                                        <td>@version.date</td>
                                        <td>@version.formatedCompressedSize</td>
                                        <td>@version.formatedUncompressedSize</td>
                                        <td>@version.formatedIndexSize</td>
                                        <td>
                                             @if(version.active) {
                                                 <button class="btn btn-success" type="button">Running</button>

                                             } else {
                                                 <button class="btn" type="button" onclick="alert('Not yet implemented')">Activate</button> <button class="btn" type="button" onclick="alert('Not yet implemented')"><i class="icon-trash"></i></button>
                                             }
                                        </td>
                                    </tr>
                                    }}
                                    <tr>
                                        <td>&nbsp;</td>
                                        <td>&nbsp;</td>
                                        <td><strong>@chunk.formatedCompressedSize</strong></td>
                                        <td><strong>@chunk.formatedUncompressedSize</strong></td>
                                        <td><strong>@chunk.formatedIndexSize</strong></td>
                                        <td>&nbsp;</td>
                                    </tr>
                                </tbody>
                            </table>
                            <button class="btn" type="button" onclick="alert('Not yet implemented');"><i class="icon-trash"></i> Delete delivery chunk @chunk.key</button>
                            <button class="btn" type="button" onclick="alert('Not yet implemented');"><i class="icon-trash"></i> Delete collection @collection.name</button>
                            <hr/>
                        </div>
                        }}
                    </div>
                </div>
            </div>
        }
    }

</div>
}